<!doctype html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1"><meta name=description content=""><meta name=author content="Zachary Snow"><title>The Blog of Zachary Snow</title><base href=""><link href="https://fonts.googleapis.com/css?family=Open+Sans" rel=stylesheet><link rel=stylesheet type=text/css href=css/style.css><link rel=alternate type=application/rss+xml title="The Blog of Zachary Snow" href=feed.rss><div class=wrap><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><h1><a class=navbar-brand href=/ >The Blog of Zachary Snow</a></h1><button id=navbar-toggler class=navbar-toggler type=button aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation"><span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class="nav-item active"><a class=nav-link href=index.html>Home <span class=sr-only>(current)</span></a><li class=nav-item><a class=nav-link href=about.html>About</a></ul><div class="social my-2 my-lg-0"><a href=https://twitter.com/smack0007 class=twitter title=Twitter><span class=icon-twitter></span></a> <a href=https://github.com/smack0007 class=github title=Github><span class=icon-github></span></a> <a href=https://paypal.me/smack0007 class=coffee title="Buy Me a Coffee"><span class=icon-mug></span></a> <a href=feed.rss class=rss title=RSS><span class=icon-rss></span></a></div></div></nav><main class=container><div class=posts><div class=post><h2><a href=blog/2019/generating-string-permutations-for-unit-testing.html>Generating string permutations for unit testing</a></h2><div class=meta><span class=date><span class=icon-calendar></span>February 11, 2019</span> <span class=category><span class=icon-folder></span>c#</span> <span class=tags><span class=icon-price-tags></span>c#, nunit, math</span></div><div class=content><p>I needed to parse a string containing 6 characters. Each character should only be one of 3 possibilities: '?' for null, '0' for false or '1' for true. I'm wrapping the string in a struct and simply reading the values for any given field. That class looks sort of like this:
<pre><code class=language-c#><span class=keyword>public</span> <span class=keyword>struct</span> MyData
{
    <span class=keyword>public</span> <span class=keyword>bool</span>? Field1 { <span class=keyword>get</span>; }

    <span class=keyword>public</span> <span class=keyword>bool</span>? Field2 { <span class=keyword>get</span>; }

    <span class=keyword>public</span> <span class=keyword>bool</span>? Field3 { <span class=keyword>get</span>; }

    <span class=keyword>public</span> <span class=keyword>bool</span>? Field4 { <span class=keyword>get</span>; }

    <span class=keyword>public</span> <span class=keyword>bool</span>? Field5 { <span class=keyword>get</span>; }

    <span class=keyword>public</span> <span class=keyword>bool</span>? Field6 { <span class=keyword>get</span>; }
}</code></pre><p>I wanted to generate unit tests for every possibly permuation of the string. We're using NUnit so this can be acheived using TestCaseSource:
<pre><code class=language-c#><span class=keyword>public</span> IEnumerable&lt;<span class=keyword>object</span>[]> TestValues()
{
    <span class=keyword>return</span>
        <span class=keyword>from</span> f1 <span class=keyword>in</span> FieldValues()
        <span class=keyword>from</span> f2 <span class=keyword>in</span> FieldValues()
        <span class=keyword>from</span> f3 <span class=keyword>in</span> FieldValues()
        <span class=keyword>from</span> f4 <span class=keyword>in</span> FieldValues()
        <span class=keyword>from</span> f5 <span class=keyword>in</span> FieldValues()
        <span class=keyword>from</span> f6 <span class=keyword>in</span> FieldValues()
        <span class=keyword>select</span> <span class=keyword>new</span> <span class=keyword>object</span>[]
        {
            <span class=keyword>new</span> <span class=keyword>string</span>(<span class=keyword>new</span> <span class=keyword>char</span>[] { f1.Key, f2.Key, f3.Key, f4.Key, f5.Key, f6.Key }),
            f1.Value,
            f2.Value,
            f3.Value,
            f4.Value,
            f5.Value,
            f6.Value
        };
}

<span class=keyword>public</span> IEnumerable&lt;KeyValuePair&lt;<span class=keyword>char</span>, <span class=keyword>bool</span>?>> FieldValues()
{
    <span class=keyword>yield</span> <span class=keyword>return</span> <span class=keyword>new</span> KeyValuePair&lt;<span class=keyword>char</span>, <span class=keyword>bool</span>?>(<span class=string>'?'</span>, <span class=keyword>null</span>);
    <span class=keyword>yield</span> <span class=keyword>return</span> <span class=keyword>new</span> KeyValuePair&lt;<span class=keyword>char</span>, <span class=keyword>bool</span>?>(<span class=string>'0'</span>, <span class=keyword>false</span>);
    <span class=keyword>yield</span> <span class=keyword>return</span> <span class=keyword>new</span> KeyValuePair&lt;<span class=keyword>char</span>, <span class=keyword>bool</span>?>(<span class=string>'1'</span>, <span class=keyword>true</span>);
}

[TestCaseSource(nameof(TestValues))]
<span class=keyword>public</span> <span class=keyword>void</span> ValuesAreCorrect(
    <span class=keyword>string</span> value,
    <span class=keyword>bool</span>? f1,
    <span class=keyword>bool</span>? f2,
    <span class=keyword>bool</span>? f3,
    <span class=keyword>bool</span>? f4,
    <span class=keyword>bool</span>? f5,
    <span class=keyword>bool</span>? f6)
{
    <span class=keyword>var</span> data = <span class=keyword>new</span> MyData(value);
    Assert.AreEqual(data.Field1, f1);
    Assert.AreEqual(data.Field2, f2);
    Assert.AreEqual(data.Field3, f3);
    Assert.AreEqual(data.Field4, f4);
    Assert.AreEqual(data.Field5, f5);
    Assert.AreEqual(data.Field6, f6);
}</code></pre><p>This geneartes 721 unit tests which is the correct number of tests according to the formula <a href=https://www.mathsisfun.com/combinatorics/combinations-permutations.html><strong><em>n<sup>k</sup></em></strong></a>.</div></div><div class=post><h2><a href=blog/2018/functional-card-deck-in-csharp.html>Functional Card Deck in C#</a></h2><div class=meta><span class=date><span class=icon-calendar></span>October 11, 2018</span> <span class=category><span class=icon-folder></span>c#</span> <span class=tags><span class=icon-price-tags></span>c#, fp</span></div><div class=content><p>I've been inspired lately by Mark Seemann's series of posts about <a href=http://blog.ploeh.dk/2018/10/01/applicative-functors/ >Applicative Functors</a>. One of the latest posts is an example about creating a <a href=http://blog.ploeh.dk/2018/10/08/full-deck/ >full deck</a> of cards. Most of posts up to this point have contained a C# example but for some reason this one didn't. This inspired me to take a shot at it.</p><a class=readMore href=blog/2018/functional-card-deck-in-csharp.html>Read More</a></div></div><div class=post><h2><a href=blog/2018/enabling-the-latest-version-of-csharp.html>Enabling the latest version of C#</a></h2><div class=meta><span class=date><span class=icon-calendar></span>June 21, 2018</span> <span class=category><span class=icon-folder></span>c#</span> <span class=tags><span class=icon-price-tags></span>c#, msbuild</span></div><div class=content><p>As of this writing when creating a new console project via <code>dotnet new console</code> the version of C# used in the project is version 7.0. This means you're missing out cool features like <a href=https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-7-1#default-literal-expressions>Default Literal Expressions</a>. The language version can be changed via Visual Studio though I prefer to enable it via MSBuild. This can be done in the <code>csproj</code> file or globally via a <code>Build.Directory.props</code> file. Changing the C# language version is done via a property known as <code>LangVersion</code>.
<pre><code class=language-xml><span class=xmlDelimiter>&lt;</span><span class=xmlName>PropertyGroup</span><span class=xmlDelimiter>></span>
    <span class=xmlDelimiter>&lt;</span><span class=xmlName>LangVersion</span><span class=xmlDelimiter>></span>latest<span class=xmlDelimiter>&lt;/</span><span class=xmlName>LangVersion</span><span class=xmlDelimiter>></span>
<span class=xmlDelimiter>&lt;/</span><span class=xmlName>PropertyGroup</span><span class=xmlDelimiter>></span></code></pre><p>This property can set to any of the values listed <a href=https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/compiler-options/langversion-compiler-option>here</a>. As of this writing VS Code doesn't seem to like it when you use 7.3 instead of latest. VS Code will show errors in your code although the code will compile without any problems.</div></div><div class=post><h2><a href=blog/2018/a-neat-way-to-curry-in-csharp.html>A neat way to curry in C#</a></h2><div class=meta><span class=date><span class=icon-calendar></span>May 25, 2018</span> <span class=category><span class=icon-folder></span>c#</span> <span class=tags><span class=icon-price-tags></span>c#, fp</span></div><div class=content><p>I was reading an older blogpost from <a href=http://mikehadlow.blogspot.de/2015/09/partial-application-in-c.html>Mike Hadlow</a> about <a href=http://mikehadlow.blogspot.de/2015/09/partial-application-in-c.html>Partial Application in C#</a> in which he discusses how <a href=https://en.wikipedia.org/wiki/Partial_application>Partial Application</a> can be implemented in C# via <a href=https://en.wikipedia.org/wiki/Currying>Currying</a>. Although I appreciate his example of implementing currying via extsion methods, the syntax is hideous. There is a suggestion in the comments though that I found to be a much better solution.
<pre><code class=language-c#><span class=comment>// Define a local function Add.</span>
<span class=keyword>int</span> Add(<span class=keyword>int</span> a, <span class=keyword>int</span> b) => a + b;

<span class=comment>// Here we do the currying.</span>
Func&lt;<span class=keyword>int</span>, <span class=keyword>int</span>> add3 = (b) => Add(<span class=number>3</span>, b);

<span class=comment>// This will print 5.</span>
Console.WriteLine(add3(<span class=number>2</span>));

<span class=comment>// Curry one more time so that we have</span>
<span class=comment>// a function that simply produces 5.</span>
Func&lt;<span class=keyword>int</span>> five = () => add3(<span class=number>2</span>);

<span class=comment>// This will also print 5.</span>
Console.WriteLine(five());</code></pre></div></div><div class=post><h2><a href=blog/2018/lambda-collection-wrappers.html>Lambda Collection Wrappers</a></h2><div class=meta><span class=date><span class=icon-calendar></span>April 26, 2018</span> <span class=category><span class=icon-folder></span>c#</span> <span class=tags><span class=icon-price-tags></span>c#, lambda, fp</span></div><div class=content><p>I've been reading a lot as of late about functional programming and I try to incorperate as much as possible into my everyday programming. One trick that I've definitely started using is wrapping collections in lambda functions.</p><a class=readMore href=blog/2018/lambda-collection-wrappers.html>Read More</a></div></div></div><div class=clear></div><nav aria-label="Page navigation"><ul class="pagination justify-content-center"><li class=page-item><a href=blog/page2.html class="page-link older">Older</a><li class="page-item disabled"><a class="page-link newer" href=# tabindex=-1>Newer</a></ul></nav></main></div><script>document.getElementById("navbar-toggler").onclick=function(){document.getElementById("navbarSupportedContent").classList.toggle("collapse")}</script>