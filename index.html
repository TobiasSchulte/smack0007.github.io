<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="Zachary Snow">

        <title>The Blog of Zachary Snow</title>
        <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
        <link rel="stylesheet" type="text/css" href="css/site.css">

        <link rel="alternate" type="application/rss+xml" title="The Blog of Zachary Snow" href="feed.rss">
    </head>
    <body>
        <input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox" />
        <div class="sidebar" id="sidebar">
            <div class="sidebar-item">

            </div>
            <nav class="sidebar-nav">
                <a href="" class="sidebar-nav-item active">Home</a>
                <a href="about.html" class="sidebar-nav-item">About</a>
            </nav>
        </div>
        <div class="wrap">
            <div class="masthead">
                <div class="container">
                    <div class="social">
                        <a href="http://twitter.com/smack0007" class="twitter" title="Twitter"><i class="fa fa-twitter"></i></a>
                        <a href="http://github.com/smack0007" class="github" title="Github"><i class="fa fa-github"></i></a>
                        <a href="feed.rss" class="rss" title="RSS"><i class="fa fa-rss"></i></a>
                    </div>
                    <h3 class="masthead-title">
                        <a href="" title="Home">The Blog of Zachary Snow</a>
                    </h3>
                </div>
            </div>
            <div class="container content">
                <div class="posts">
                    <div class="post">
<h2><a href="blog\2015\using-batch-files-as-task-runner-vs-code.html">Using batch files as the task runner in Visual Studio Code</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>July 09, 2015</span>
<span class="category"><i class="fa fa-folder"></i>Visual Studio</span>
<span class="tags"><i class="fa fa-tags"></i>Visual Studio, Visual Studio Code, Batch Files</span>
</div>
<div class="content">
<p><a href="https://code.visualstudio.com/">Visual Studio Code</a> allows you specify tasks which can be in a task runner. Most examples
I've seen show how to integrate with Javascript task runners such as Gulp. There is no reason why you can't simpley use
batch files though.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2014\linq-calls-iequalitycomparer-gethashcode-before-equals.html">LINQ calls IEqualityComparer&lt;T&gt;.GetHashCode() before Equals()</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>November 24, 2014</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>LINQ, IEqualityComparer, GetHashCode</span>
</div>
<div class="content">
<p>This is a problem that has bitten me more than a few times so I thought it was about time to write a blog post about it. It's one of those problems
that makes you scratch your head for a bit and then the light bulb goes on and you remember you've solved this one before. It occurs whenever you
use a LINQ extension method which takes an instance of IEqualityComaparer<T>.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2014\my-experience-with-opengl-vs-direct3d.html">My Experience with OpenGL vs Direct3D</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>November 18, 2014</span>
<span class="category"><i class="fa fa-folder"></i>Graphics</span>
<span class="tags"><i class="fa fa-tags"></i>OpenGL, Direct3D</span>
</div>
<div class="content">
<p>I've struggled a lot with myself over whether I should use OpenGL or Direct3D. There is no blanket answer to this question that anyone can tell you.
Both APIs have a very different feel and which one you prefer can only be decided on your own.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2014\code-from-when-i-was-young-and-stupid.html">Code from when I was young and stupid and needed the money</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>June 18, 2014</span>
<span class="category"><i class="fa fa-folder"></i>Random</span>
<span class="tags"><i class="fa fa-tags"></i>Old Code, Cplusplus, Young</span>
</div>
<div class="content">
<p>We have had 2 interns at work for the past few weeks and one of the tasks we gave them was to implement <a href="http://en.wikipedia.org/wiki/Quick_sort">Quicksort</a>.
This got me to thinking about my youth and some of the code I wrote back then. I've decided to post it.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2014\adding-assembly-references-in-roslyn.html">Adding assembly references in Roslyn</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>April 15, 2014</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>Roslyn</span>
</div>
<div class="content">
<p>In the Roslyn preview that was released at Build 2014 the way references to global assmeblies are added was changed. Before the preview I could use code like this:</p>
<pre><code class="language-csharp">var compilation = Compilation.Create(assemblyName, new CompilationOptions(OutputKind.DynamicallyLinkedLibrary))
	.AddReferences(MetadataReference.CreateAssemblyReference(&quot;mscorlib&quot;))
	.AddReferences(MetadataReference.CreateAssemblyReference(&quot;System&quot;))
	.AddReferences(MetadataReference.CreateAssemblyReference(&quot;System.Core&quot;))
	.AddReferences(new MetadataFileReference(this.GetType().Assembly.Location))
	.AddSyntaxTrees(syntaxTree);
</code></pre>
<p>The static factory method &quot;MetadataReference.CreateAssemblyReference&quot; added a reference to global assemblies such as &quot;mscorlib.dll&quot; or &quot;System.dll&quot;. In the Roslyn preview,
the same be achieved like so:</p>
<pre><code class="language-csharp">var assemblyPath = Path.GetDirectoryName(typeof(object).Assembly.Location);

var compilation = CSharpCompilation.Create(assemblyName)
	.WithOptions(new CSharpCompilationOptions(OutputKind.DynamicallyLinkedLibrary))
	.AddReferences(new MetadataFileReference(Path.Combine(assemblyPath, &quot;mscorlib.dll&quot;)))
	.AddReferences(new MetadataFileReference(Path.Combine(assemblyPath, &quot;System.dll&quot;)))
	.AddReferences(new MetadataFileReference(Path.Combine(assemblyPath, &quot;System.Core.dll&quot;)))
	.AddReferences(new MetadataFileReference(Assembly.GetEntryAssembly().Location))
	.AddSyntaxTrees(syntaxTree);
</code></pre>

</div>
</div>
<div class="post">
<h2><a href="blog\2014\all-the-cool-kids-are-static.html">All the cool kids are static</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>March 09, 2014</span>
<span class="category"><i class="fa fa-folder"></i>Random</span>
<span class="tags"><i class="fa fa-tags"></i>Static Websites</span>
</div>
<div class="content">
<p>Seems like all the cool kids these days have converted their websites to completely static ones. I'm looking at you <a href="http://haacked.com">Mr. Haacked</a>. I thought this was a pretty cool idea and a chance
to really refresh my website so I decided to take a stab at it. It's currently a work in progress.</p>
<p>I ended up writing my own tool I call <a href="http://github.com/smack0007/Gatsby">Gatsby</a> to do it. I also set up the whole deploy process myself involving pushing to <a href="http://github.com/smack0007/zacharysnow.net">Github</a>
which then informs my website to pull from the Github repository. Hopefully that will be a blog post in the not too distance future.</p>
<p>Sorry for any inconvenience.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2013\using-component-glue-to-build-your-object-graphs-automatically.html">Using Component Glue to build your object graphs automatically</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>July 26, 2013</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>Open Source, Dependency Injection, IoC, C#, .NET</span>
</div>
<div class="content">
<p>Component Glue is an IoC container and you use it of course to wire up your object graphs for you. Component Glue can also build your object graphs for you automatically if there are no interfaces involved. Take this example:</p>
<script src="https://gist.github.com/smack0007/6091538.js"></script>
<p>In After.cs, you can see that Component Glue is able to build the entire object graph for us. This will include all future dependencies as well so long as interfaces don't come into play. Should an interface be needed, you can just bind that single component.</p>
<p>This is a very powerful thing. If one component needs to take on a dependency, just ask for it in the constructor and Component Glue will handle it for you.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2013\component-glue-v1-0.html">Component Glue v1.0</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>June 11, 2013</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>.NET, C#, ComponentGlue, Dependency Injection, Github, IoC, NuGet</span>
</div>
<div class="content">
<p>I finally brought Component Glue up to a state where I felt like the product was finished. You can get it via NuGet:</p>
<div class="nuget-badge">
`PM&gt; Install-Package ComponentGlue`
</div>
<p>or you can get the source from <a href="https://github.com/smack0007/ComponentGlue">GitHub</a>. The documentation is definitely sparse I know but I recommend taking a look at the unit tests to get a feel for what you can do with Component Glue.</p>
<p>Credit for the NuGet CSS <a href="http://www.arunrana.net/2012/01/design-of-nuget-package-installation.html">here</a>.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2013\gldotnet-version-0-6-0.html">GLDotNet Version 0.6.0</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>February 19, 2013</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>C#, OpenGL, .NET</span>
</div>
<div class="content">
<p>I just released GLDotNet Version 0.6.0.</p>
<h2>Changelog:</h2>
<ul>
<li>**GLDotNet.Toolkit**: Assembly containing simple app framework.</li>
<li>**GLDotNet.Objects**: Assembly containing higher level objects such as Texture2D and VertexBuffer.</li>
<li>More overloads added to GLContext class.</li>
<li>byte and sbyte are now mapped correctly in generated code.</li>
<li>Fixed the naming of some functions so as not to include type notation, i.e. Color4u.</li>
<li>Decreased the number of enum values output.</li>
</ul>

</div>
</div>
<div class="post">
<h2><a href="blog\2013\introducing-gldotnet.html">Introducing GLDotNet</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>January 02, 2013</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>C#, OpenGL, .NET, Open Source</span>
</div>
<div class="content">
<p>Today I released a project I've been playing around with for a year or so on Codeplex. It's called <a href="https://gldotnet.codeplex.com/">GLDotNet</a>. From the project description:</p>
<p><em>C# wrapper for OpenGL. Partially generated from the OpenGL spec and partially written by hand, the aim is to have a flexible and native feeling C# binding.</em></p>
<p>I have generated functions from the OpenGL spec excluding 1 or 2 but unfortunately of the generated code is untested. There is a demo project included in the source code. The Github repository is located here: <a href="https://github.com/smack0007/GLDotNet">https://github.com/smack0007/GLDotNet</a></p>

</div>
</div>
<div class="post">
<h2><a href="blog\2012\http-status-codes-as-telephone-calls.html">HTTP Status Codes as Telephone Calls</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>December 18, 2012</span>
<span class="category"><i class="fa fa-folder"></i>Random</span>
<span class="tags"><i class="fa fa-tags"></i>Http, Http Status Codes</span>
</div>
<div class="content">
<p>I had a funny idea to describe HTTP Status Codes as telephone conversations so I thought I'd write it in a blog post.</p>
<dl>
<dt>301</dt>
<dd>She's not here right now but she'll be back later.</dd>
<dt>302</dt>
<dd>She doesn't live here anymore, she now lives somewhere else.</dd>
<dt>304</dt>
<dd>He hesn't changed a bit.</dd>
<dt>401</dt>
<dd>I can't allow you to speak to him.</dd>
<dt>402</dt>
<dd>$1.99 for the first minute...</dd>
<dt>404</dt>
<dd>No one by that name lives here.</dd>
<dt>500</dt>
<dd>It's not you, it's me.</dd>
<dt>503</dt>
<dd>I can't deal with this anymore.</dd>
</dl>

</div>
</div>
<div class="post">
<h2><a href="blog\2012\snowball-is-now-modular.html">Snowball is now modular</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>November 06, 2012</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>Game Programming</span>
</div>
<div class="content">
<p>The version of Snowball currently on GitHub under the &quot;develop&quot; branch has been split into multiple projects. There is now an assembly for each major piece of Snowball, such as Graphics, Input, Sound. Although this means having to reference more assemblies, the amount of code your project depends on is now smaller. This also makes code maintenance a bit easier as it's more clear now what parts of the library depend on other parts of the library.</p>
<p>The parts of the library which really make up a Game Framework has also been split out into their own library. This allows for using Snowball as a just a simple set of libraries or a full blown game framework, depending on what your situation calls for.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2012\using-themes-in-visual-studio-express-for-windows-desktop.html">Using Themes in Visual Studio Express for Windows Desktop</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>September 15, 2012</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>VS2012 Themes, VS2012 WD</span>
</div>
<div class="content">
<p>I just want to post some information that took me while to find. Check out the original article <a href="http://alinconstantin.blogspot.de/2012/09/using-color-themes-with-visual-studio.html">here</a> with pictures and more information.</p>
<blockquote>
1) First, download the zip file http://www.alinconstantin.net/download/VS2012Themes.zip – it contains the 7 pkgdef files defining the colors of the default themes from Matt’s extension.
<ol start="2">
<li><p>Now, create a folder under &quot;%ProgramFiles%\Microsoft Visual Studio 11.0\Common7\IDE\WDExpressExtensions”, and lets name it “Themes”. Unpack the zip file in that folder.</p>
</li>
<li><p>Open a ‘Developer Command Prompt for VS2012” window. In the command line, type “wdexpress.exe /updateconfiguration”. This will make Visual Studio to read the pkgdef files on next restart, and import the color themes into registry.</p>
</li>
<li><p>Launch Visual Studio Express, and now you should be able to see the new themes and switch them in Tools/Options dialog, Environment/General tab</p>
</li>
</ol>
</blockquote>
<p><a href="http://alinconstantin.blogspot.de/2012/09/using-color-themes-with-visual-studio.html">Source</a></p>

</div>
</div>
<div class="post">
<h2><a href="blog\2012\id3dxeffectonlostdevice.html">ID3DXEffect::OnLostDevice()</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>July 20, 2012</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>Direct3D9, DirectX, ID3DXEffect</span>
</div>
<div class="content">
<p>I fixed a bug yesterday in Snowball related to a lost graphics device. I noticed that when I would use CTRL + ALT + DELETE, my apps were crashing. Turned out it was due to not recovering properly from a lost device.</p>
<p>The root of the problem was that I needed to call the ID3DXEffect::OnLostDevice() method when the device was being lost. This allows the effect to recover from the lost device. I've made the Effect class in Snowball now do this automatically.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2012\snowball-now-based-on-shaders.html">Snowball: Now based on shaders</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>June 26, 2012</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>Shaders, Game Programming</span>
</div>
<div class="content">
<p>I've now merged the &quot;Shaders&quot; branch back into the &quot;master&quot; branch. All rendering is now based on shaders and no longer on the fixed function pipeline.</p>
<p>The function of the Renderer class was essentially been reduced to pushing data to the GPU and therefore I decided to rename the class to GraphicsBatch. The Begin() overload which would allow you to specify RendererSettings has been removed and been replaced with an overload which allows you to specify an Effect file to use. Also, the DrawLine() method has been removed, although vertical and horizontal lines can still be drawn using the DrawFilledRectangle() method. Better line drawing should be possible through shaders and I hope to eventually make a sample which provides an example.</p>
<p>I've added a sample (pictured above) which demonstrates using a custom shader. By default, GraphicsBatch uses a BasicEffect class which is basically the old way of rendering implemented in a shader.</p>
<p>In order for shaders to work properly when using GraphicsBatch, the GraphicsBatch class must pass a few parameters to the shader. At the moment, this only includes a transform matrix but may include more parameters in the future. The GraphicsBatchEffectWrapper can be used to wrap custom effects which you write in order to work with GraphicsBatch correctly. GraphicsBatchEffectWrapper will pass the parameters to your shader by following a standard naming convention. For example, the transform matrix is passed to your shader through a parameter named &quot;TransformMatrix&quot;.  You can also write you own class which implements IGraphicsBatchEffect. See the sample for an example of using the wrapper class.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2012\snowball-shaders-in-progress.html">Snowball: \Shaders\ in progress</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>June 22, 2012</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>Open Source</span>
</div>
<div class="content">
<p>It's been a long couple of months. I'm in the middle of switching jobs, been on vacation a bit, and have been playing around with OpenGL a bit to get a feel for how that API works compared to Direct3D. As of yesterday I started working on implementing shaders in Snowball.</p>
<p>In order to implement shaders or Effect(s), there may have to be a few changes to the API / interface of the Renderer class. Nothing significant I don't think but mainly changes to the Begin() method overloads. Today I pushed the branch which contains my initial implementation.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2012\snowball-now-using-sharpdx.html">Snowball now using SharpDX</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>April 16, 2012</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>SharpDX, Open Source, SlimDX</span>
</div>
<div class="content">
<p>For a little while, I was thinking about giving up on Snowball. When you're one guy working on a project that gets to a certain size, it can start to feel a little daunting. You find a bug, and you feel like you need to fix it asap. I don't know if anyone reading this has actually tried Snowball, but if you have, please comment to let me know. It would encourage me.</p>
<p>I decided to switch Snowball over to <a href="http://code.google.com/p/sharpdx/">SharpDX</a>. It's not that I was unhappy with SlimDX, it just seems like there is a lot more innovation happening on the SharpDX side. I also like the fact that I can include the DLLs in the repository so end users don't have to download another dependency in order to compile it. The Win8 stuff is also quite interesting, although the SlimDX guys say they are working on that.</p>
<p>I plan to set a road map soon for what I want to include the first release of Snowball. Music and Pixel Shaders are high the list. I've experimented with implementing a UI library but I think I want to push that back for a later release.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2012\getting-started-with-snowball.html">Getting Started with Snowball</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>March 04, 2012</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>C#, .NET, Game Programming</span>
</div>
<div class="content">
<p>My game framework Snowball is far enough along that small games can be developed with it by now. The basic overall design is now laid out and not too much is likely to change as I'm now developing my own small games with it.</p>
<p>In order to create some kind of documentation on how to use Snowball, I created a Samples folder in the source. In the Samples folder is a WalkingWizard sample. I'm posting this source code here but it can also be viewed on GitHub <a href="https://github.com/smack0007/Snowball/blob/master/Samples/WalkingWizard/WalkingWizardSample.cs">here</a>.</p>
<script src="https://gist.github.com/2400440.js?file=WalkingWizardSample.cs"></script>

</div>
</div>
<div class="post">
<h2><a href="blog\2011\winquakecon.html">WinQuakeCon</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>December 20, 2011</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>.NET, Command Shell, Console, Github, Quake, Terminal, Windows, WinQuakeCon</span>
</div>
<div class="content">
<p>I've always wanted a program that would allow me have a command line that I could slide in and out of view as needed like the console from <a href="http://en.wikipedia.org/wiki/Quake_(video_game)">Quake</a>. I never could find one and so I finally got decided to write a tool myself. A picture is below and the source code is on <a href="https://github.com/smack0007/WinQuakeCon">GitHub</a>.</p>
<p>I'm not putting a download here as I don't consider this finished just yet.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2011\what-is-snowball-and-what-do-i-want-to-do-with-it.html">What is Snowball and what do I want to do with it?</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>October 16, 2011</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>2d, C#, CodePlex, Open Source, SlimDX, Xna</span>
</div>
<div class="content">
<p>I originally got the idea for Snowball after working with the Xna Framework. The Xna Framework is a good piece of software for what it is but there are some things about which I just do not agree with:</p>
<ul>
<li>The content pipeline only works with content in the serialized .xnb format.</li>
<li>There are certain content types which can only be loaded via the content pipeline.</li>
<li>Certain features don't exist on the PC because they don't exist on the XBox or Windows Phone 7.</li>
</ul>
<p>Xna was designed as an abstraction layer for all the 3 platforms mentioned in the last point, so that one is somewhat understandable. I don't want to write games for my XBox right now though, so why should things like drawing lines not be available to me?</p>
<p>With these points in mind I started working on <a href="http://snowball.codeplex.com/">Snowball</a>. It's designed to be an Xna like framework for making 2D games. It uses SlimDX on the backend, but that is completely abstracted away from consumers of the framework. What I want to do is design the API so that the backend can be swapped out <strong>somewhat</strong> painlessly.</p>
<p>I still have a ways to go before I will consider it a version 1.0 release. As of this writing, I'm transitioning to more of a ContentLoader class style for loading your game's content. Any resource type from within the framework can be loaded by hand if you want, the ContentLoader class will just make it easier. After that I have a few other features like GamePad and Music which I would like to implement before saying I have a Beta type release.</p>
<p>The future after that is up in the air. I would love to try and have different implementations of the API for Xna and/or OpenTK.</p>
<p>I recommend for anyone who is interested as to why an API designer choose to implement the API in the way they did to try it for themselves. I have learned many things from this project including why certain design decisions were made by the Xna Framework team.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2011\wmi-converting-datetime-values-to-datetime-objects.html">WMI: Converting datetime values to DateTime objects</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>July 12, 2011</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>WMI</span>
</div>
<div class="content">
<p>Just a quick post to hopefully save anyone who finds this some time. If you need to convert a datetime value from a WMI query to a native DateTime object in C#, you can use the method ToDateTime() on the ManagementDateTimeConverter class.</p>
<pre><code class="language-c#">ManagementDateTimeConverter.ToDateTime(dmtfDate);
</code></pre>

</div>
</div>
<div class="post">
<h2><a href="blog\2011\snowball-a-slightly-different-direction.html">Snowball: A Slightly Different Direction</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>July 02, 2011</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>CodePlex</span>
</div>
<div class="content">
<p>At first, I had imagined <a href="http://snowball.codeplex.com/">Snowball</a>, now located on Codeplex, to be a framework which would define how your game objects look. I.E. I had a class called GameEntity which I imagined would handle a lot of boiler plate code for you such as setting up Initialize(), Update(), Draw(), etc.</p>
<p>I've decided to move away from that and let Snowball purely focus on the subsystems of a game, such as Graphics, Sound, Input, etc. Extending from the Game class completely sets up these aspects of your game for you. I think I will include helper components, such as a collision detection system, but I will not force you to use them.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2011\xaudio2-stop-currently-playing-sound.html">XAudio2: Stop Currently Playing Sound</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>July 02, 2011</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>SlimDX, XAudio2</span>
</div>
<div class="content">
<p>Using SlimDX, if you want to stop a sound which is currently playing via XAudio2, use the following methods on the SourceVoice object:</p>
<pre><code class="language-c#">sourceVoice.Stop();
sourceVoice.FlushSourceBuffers();
</code></pre>

</div>
</div>
<div class="post">
<h2><a href="blog\2011\switching-from-git-to-mercurial.html">Switching from Git to Mercurial</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>June 03, 2011</span>
<span class="category"><i class="fa fa-folder"></i>Random</span>
<span class="tags"><i class="fa fa-tags"></i>git, Mercurial</span>
</div>
<div class="content">
<p>I've decided to make the switch from using git to Mercurial. Git's syntax to me is much more complicated than it needs to be and Mercurial seems to be more my style. I find it's much easier to find out how to do things with Mercurial and to be honest, I use about 10% of the functionality in either git or Mercurial.</p>
<p>This also means I'll be transitioning Snowball to Codeplex I think. I'll be moving it away from GitHub for sure just not 100% sure where.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2011\marker-interfaces.html">Marker Interfaces</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>May 24, 2011</span>
<span class="category"><i class="fa fa-folder"></i>Design Patterns</span>
<span class="tags"><i class="fa fa-tags"></i>Empty Interface, Marker Interfaces</span>
</div>
<div class="content">
<p>In Snowball I was debating adding an empty interface to identify certain classes in my framework as components. I wasn't sure if this was code smell or not so I did some searching on <a href="http://stackoverflow.com/search?q=marker+interface">Stackoverflow</a> and found out this concept is actually called &quot;Marker Interfaces&quot;. Learn something new every day.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2011\componentglue-on-github.html">ComponentGlue on GitHub</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>May 10, 2011</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>ComponentGlue, Dependency Injection, IoC</span>
</div>
<div class="content">
<p>I moved the <a href="https://github.com/smack0007/ComponentGlue">ComponentGlue</a> repository to GitHub. I updated the example slightly and cleaned up some of the source code a little. Need to build a full blown app with it eventually.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2011\snowball-and-github.html">Snowball and GitHub</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>April 12, 2011</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>Github, Snowball</span>
</div>
<div class="content">
<p>I started writing a 2D Game Engine on <a href="https://github.com/">GitHub</a>. I call it <a href="https://github.com/smack0007/Snowball">Snowball</a> because I'm original like that.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2011\using-git-gui-with-cygwin-on-windows-7.html">Using git-gui with Cygwin on Windows 7</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>April 07, 2011</span>
<span class="category"><i class="fa fa-folder"></i>Random</span>
<span class="tags"><i class="fa fa-tags"></i>Cygwin, git, git-gui, Windows 7</span>
</div>
<div class="content">
<p>I've started using git via <a href="http://www.cygwin.com/">cygwin</a> and was running into trouble trying to pin it to my taskbar in Windows 7.</p>
<p>First I created a .bat file in the c:\cygwin folder which launches the app standalone:</p>
<pre><code>@@echo off

C:
chdir C:\cygwin\bin

start run.exe git gui
</code></pre>
<p>You can change paths accordingly. Now run the batch file and pin the program to the taskbar. You'll notice after you close the app, the icon changes and it won't launch again.</p>
<p>Right click on the shortcut while holding shift and choose properties. Change the target to the batch file we wrote. You can change the icon to the git-gui icon by pointing the shortcut icon to &quot;C:\cygwin\usr\share\git-gui\lib\git-gui.ico&quot;.</p>
<p>Now if you click on the icon, the git-gui app should start up. Kill your explorer.exe in task manager and restart. If the icon is still the genie lamp, you'll need to clear your icon cache to get the icon to look right. Credit for that from <a href="http://superuser.com/questions/72756/changing-windows-7-pinned-taskbar-icons">here</a>. Kill your explorer.exe again and while explorer is gone, start cmd.exe. From there enter the following commands:</p>
<pre><code>CD /d %userprofile%\AppData\Local

DEL IconCache.db /a

EXIT
</code></pre>
<p>After that your icon should be there as you want.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2011\getting-started-with-slimdx.html">Getting started with SlimDX</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>March 31, 2011</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>DirectX</span>
</div>
<div class="content">
<p>*<strong>Update 2013-09-29:</strong> At this point SlimDX is quite out of date and I would recommend starting with <a href="http://sharpdx.org/">SharpDX</a>.</p>
<p>Since I tried OpenTK, I decided to give <a href="http://slimdx.org/">SlimDX</a> a try as well. So, here's a simple getting started app:</p>
<pre><code class="language-c#">using System;
using System.Drawing;
using System.Windows.Forms;
using SlimDX;
using SlimDX.Direct3D9;
using SlimDX.Windows;

namespace SlimDXApp1
{
	public partial class SlimDXApp1Form : RenderForm
	{
		struct Vertex
		{
			public Vector4 Position;
			public int Color;
		}

		Device device;
		VertexDeclaration vertexDeclaration;
		
		public SlimDXApp1Form()
			: base(&quot;SlimDXApp1&quot;)
		{
			this.ClientSize = new Size(800, 600);

			this.device = new Device(new Direct3D(), 0, DeviceType.Hardware, this.Handle, CreateFlags.HardwareVertexProcessing, new PresentParameters()
            {
                BackBufferWidth = this.ClientSize.Width,
                BackBufferHeight = this.ClientSize.Height
            });

			this.vertexDeclaration = new VertexDeclaration(this.device, new[] {
        		new VertexElement(0, 0, DeclarationType.Float4, DeclarationMethod.Default, DeclarationUsage.PositionTransformed, 0),
        		new VertexElement(0, 16, DeclarationType.Color, DeclarationMethod.Default, DeclarationUsage.Color, 0),
				VertexElement.VertexDeclarationEnd
        	});
		}

		public void Run()
		{
			MessagePump.Run(this, () =&gt;
			{
				this.device.Clear(ClearFlags.Target | ClearFlags.ZBuffer, Color.Black, 1.0f, 0);
				this.device.BeginScene();

				this.device.VertexDeclaration = this.vertexDeclaration;

				this.device.DrawUserPrimitives&lt;Vertex&gt;(PrimitiveType.TriangleList, 1, new[] {
					new Vertex() { Color = Color.Red.ToArgb(), Position = new Vector4(400.0f, 100.0f, 0.5f, 1.0f) },
					new Vertex() { Color = Color.Blue.ToArgb(), Position = new Vector4(650.0f, 500.0f, 0.5f, 1.0f) },
					new Vertex() { Color = Color.Green.ToArgb(), Position = new Vector4(150.0f, 500.0f, 0.5f, 1.0f) }
				});
				
				this.device.EndScene();
				this.device.Present();
			});
		}

		[STAThread]
		static void Main()
		{
			SlimDXApp1Form form = new SlimDXApp1Form();
			form.Run();

			// Cleans up COM handles
			foreach(var item in ObjectTable.Objects)
				item.Dispose();
		}
	}
}
</code></pre>

</div>
</div>
<div class="post">
<h2><a href="blog\2011\getting-started-with-opentk.html">Getting started with OpenTK</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>March 29, 2011</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>OpenGL</span>
</div>
<div class="content">
<p>I started experimenting with <a href="http://www.opentk.com">OpenTK</a> and I had to look in a few places to put this code together, so I'm posting it here for anyone who might be looking for an easy getting started lesson.</p>
<p>I've set up a window similar to what I've been used to in Xna (CornflowerBlue 4 life). I've also set up a 2D projection matrix and drawn a triangle in a 2D fashion. You'll need to add a reference to the OpenTK assembly for your project in Visual Studio.</p>
<pre><code class="language-c#">using System;
using System.Drawing;
using OpenTK;
using OpenTK.Graphics;
using OpenTK.Graphics.OpenGL;

namespace OpenTKApp1
{
	public class AppWindow : GameWindow
	{
		public AppWindow()
		{
			this.Title = &quot;OpenTK App 1&quot;;
			this.WindowBorder = WindowBorder.Fixed;
			this.ClientSize = new Size(800, 600);			
		}

		protected override void OnRenderFrame(FrameEventArgs e)
		{
			base.OnRenderFrame(e);

			GL.ClearColor(Color.CornflowerBlue);
			GL.Clear(ClearBufferMask.ColorBufferBit | ClearBufferMask.DepthBufferBit);

			GL.MatrixMode(MatrixMode.Projection);
			GL.LoadIdentity();
			GL.Ortho(0, 800, 600, 0, -1, 1);
			GL.Viewport(0, 0, 800, 600);
			
			GL.Begin(BeginMode.Triangles);
			GL.Color3(Color.Red);
			GL.Vertex3(400, 150, 0);
			GL.Color3(Color.Green);
			GL.Vertex3(600, 450, 0);
			GL.Color3(Color.Blue);
			GL.Vertex3(200, 450, 0);
			GL.End();

			GL.Flush();
			this.SwapBuffers();
		}

		[STAThread]
		public static void Main()
		{
			AppWindow window = new AppWindow();
			window.Run();
		}
	}
}
</code></pre>

</div>
</div>
<div class="post">
<h2><a href="blog\2011\opentk-simple-movable-sprite.html">OpenTK: Simple Movable Sprite</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>March 29, 2011</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>OpenGL</span>
</div>
<div class="content">
<p>I wrote my second OpenTK app. This time I'm drawing a sprite which you can move around the screen using the keyboard. I've included the source code after the jump or you can <a href="/files/OpenTKApp2.zip">download it</a>.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2011\keeping-splitcontainer-splitterdistance-consistent.html">Keeping SplitContainer SplitterDistance consistent</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>February 09, 2011</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>Split Container, WinForms</span>
</div>
<div class="content">
<p>If you're having trouble keeping the SplitterDistance property of a SplitContainer consistent across app sessions, you can set the FixedPanel property of the splitter to FixedPanel.Panel1.</p>
<pre><code class="language-c#">splitter.FixedPanel = FixedPanel.Panel1;
</code></pre>
<p>I guess this could also work with FixedPanel.Panel2 as well but I haven't given it a try. Credit <a href="http://stackoverflow.com/questions/129362/restoring-splitterdistance-inside-tabcontrol-is-inconsistent">this stackoverflow post</a>.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2011\favoring-composition-over-inheritance.html">Favoring Composition over Inheritance</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>January 18, 2011</span>
<span class="category"><i class="fa fa-folder"></i>Design Patterns</span>
<span class="tags"><i class="fa fa-tags"></i>Composition over Inheritance</span>
</div>
<div class="content">
<p>You may have heard the expression before &quot;Favor Composition over Inheritance&quot;, but do you know what it means and how to apply it? Lets take this code for example:</p>
<pre><code class="language-c#">abstract class Car
{
	public Color Color { get; protected set; }
	public Engine Engine { get; protected set; }
}

class ElectricCar : Car
{
	public ElectricCar()
	{
		this.Color = Color.Blue;
		this.Engine = new ElectricEngine();
	}
}

class SportsCar : Car
{
	public SportsCar()
	{
		this.Color = Color.Red;
		this.Engine = new V8Engine();
	}
}

class Truck : Car
{
	public Truck()
	{
		this.Color = Color.White;
		this.Engine = new DieselEngine();
	}
}
</code></pre>
<p>In this contrived example, we've defined three types of cars. Each instance of each of the cars will always have the same color and same engine. What happens when we need a 4th type? We have to define another class. By refactoring this code, we can compose a car type by giving it a color and an engine:</p>
<pre><code class="language-c#">class Car
{
	public Color Color { get; private set; }
	public Engine Engine { get; private set; }
	
	public Car(Color color, Engine engine)
	{
		this.Color = color;
		this.Engine = engine;
	}
}

Car electricCar = new Car(Color.Blue, new ElectricEngine());
Car sportsCar = new Car(Color.Red, new V8Engine());
Car truck = new Car(Color.White, new DieselEngine());
Car familyCar = new Car(Color.Black, new V4Engine());
</code></pre>
<p>Now we can compose many car types, with any combination of colors and engines and we've only defined one class.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2010\component-glue.html">Component Glue</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>November 02, 2010</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>C#, CodePlex, IoC, Open Source</span>
</div>
<div class="content">
<p>The other day I started an open source project for an <a href="http://www.martinfowler.com/articles/injection.html">IoC Container</a> I call <a href="http://componentglue.codeplex.com/">Component Glue</a>. It's in a toy / learning tool status right now and I don't know how far I actually want to take the project. More to come though.</p>
<p><a href="http://componentglue.codeplex.com/">Component Glue on Codeplex</a></p>

</div>
</div>
<div class="post">
<h2><a href="blog\2010\visual-studio-move-referenced-dll-to-different-directory-after-build.html">Visual Studio: Move referenced DLL to different directory after Build</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>July 20, 2010</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>MSBuild</span>
</div>
<div class="content">
<p>If you need to move a referenced DLL to a different directory after build, add these commands to the &quot;<strong>Post Build event command line</strong>&quot; box in the &quot;<strong>Build Events</strong>&quot; tab of the project properties:</p>
<pre><code>mkdir $(TargetDir)dir
move $(TargetDir)myDLL.dll $(TargetDir)dir\myDLL.dll
</code></pre>

</div>
</div>
<div class="post">
<h2><a href="blog\2010\xna-load-texture2d-from-embedded-resource.html">Xna: Load Texture2D from Embedded Resource</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>July 03, 2010</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>Embedded Resources</span>
</div>
<div class="content">
<p>If you're writing an app which uses Xna, you may need to load a texture from an embedded resource. Here's how:</p>
<p>First embed the resource in your app. Do so by choosing <strong>Embedded Resource</strong> as the <strong>Build Action</strong> in the properties of the resource.</p>
<p>After that you can load the <strong>Texture2D</strong> using a stream handle to the embedded file.</p>
<pre><code class="language-c#">Stream stream = Assembly.GetCallingAssembly().GetManifestResourceStream(&quot;AppNamespace.Folder.font.bmp&quot;);
return Texture2D.FromFile(graphicsDevice, stream);
</code></pre>
<p><strong>GetCallingAssembly()</strong> can be exchanged with <strong>GetExecutingAssembly()</strong> if needed. The name of the resource must be fully qualified with the app's namespace and folders. I usually keep my resources in a folder <strong>Resources</strong> so I would have: AppNamespace.Resources.font.bmp.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2010\implementing-basic-dependency-injection-using-services-container.html">Implementing basic Dependency Injection using a Service Container</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>June 21, 2010</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>.NET, C#, Dependency Injection, Design Patterns, Service Continer</span>
</div>
<div class="content">
<p>By extending your Service Container class, a very basic version of dependency injection can be implemented. We'll implement two forms of dependency injection: constructor and property injection.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2010\500-downloads-of-the-same-game.html">500 Downloads of the Same Game</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>June 09, 2010</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>CodePlex, Same Game Xna, WinForms, Xna</span>
</div>
<div class="content">
<p>My little Xna game that I wrote nearly 2 years ago reached the 500 downloads mark (binaries and source) the other day. With that said, I'd like to say that I'm working on version 2.0.</p>
<p>In version 2.0 I'm going to make the code more event driven. The old code uses the Xna Game class and in the new version I'll be making it WinForms based. Almost a complete rewrite.</p>
<p>My work so far is available through SVN on the project's <a href="http://samegamexna.codeplex.com/">Codeplex page</a>.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2010\progress-bars-in-windows-7-taskbars.html">Progress Bar in Windows 7 Taskbars</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>June 01, 2010</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>.NET, C#, Windows 7</span>
</div>
<div class="content">
<p>I decided to add progress bar to the Windows 7 Taskbar in my Timer app.</p>
<p>I started by downloading and compiling the <a href="http://code.msdn.microsoft.com/WindowsAPICodePack">Windows API Code Pack</a> in Release mode. I then added a reference to the Microsoft.WindowsAPICodePack.dll and Microsoft.WindowsAPICodePack.Shell.dll files to the project. After that add the lines:</p>
<pre><code class="language-c#">using Microsoft.WindowsAPICodePack.Taskbar;
</code></pre>
<p>to your using statements. When the clock starts running I create the progress bar in the taskbar with:</p>
<pre><code class="language-c#">// Initialize progress bar
if(TaskbarManager.IsPlatformSupported)
{
	TaskbarManager.Instance.SetProgressState(TaskbarProgressBarState.Normal);
	TaskbarManager.Instance.SetProgressValue(0, (int)this.totalTime.TotalSeconds, this.Handle);
}
</code></pre>
<p>to stop the progress bar:</p>
<pre><code class="language-c#">// Stop progress bar
if(TaskbarManager.IsPlatformSupported)
	TaskbarManager.Instance.SetProgressState(TaskbarProgressBarState.NoProgress);
</code></pre>
<p>and finally to update the progress bar on each tick:</p>
<pre><code class="language-c#">// Update progress bar
if(TaskbarManager.IsPlatformSupported)
	TaskbarManager.Instance.SetProgressValue((int)this.totalTime.TotalSeconds - (int)this.time.TotalSeconds, (int)this.totalTime.TotalSeconds, this.Handle);
</code></pre>

</div>
</div>
<div class="post">
<h2><a href="blog\2010\winforms-and-mvc.html">WinForms and MVC</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>May 26, 2010</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>MVC, WinForms</span>
</div>
<div class="content">
<p>I recently became interested in doing MVC inside of a Windows Forms app. I found a few MVC frameworks which work with WinForms (<a href="http://stackoverflow.com/questions/2406/looking-for-a-mvc-sample-for-winforms">see here</a>) but they didn't really interest me. Too heavy I felt for what I was looking to do. I ended up with a solution looking something like this:</p>
<p>There is really only one controller and that is the &quot;Application&quot; class. It contains all the methods your app can call to manipulate your models, which are in the &quot;Data&quot; folder / namespace. The &quot;WinFormsApplication&quot; class inherits from the &quot;Application&quot; class and just sets the view to an instance of &quot;WinFormsView&quot;. The &quot;Application&quot; class communicates with the view through the &quot;IView&quot; interface. The &quot;WinFormsView&quot; class is a Windows Forms implementation of that view. The &quot;Application&quot; class and your models are not coupled in any way to your Windows Forms implementation of the view.</p>
<p>If you want you view to be as dumb as possible, your view can communicate with the &quot;Application&quot; class only through events. In my case though, I choose to go with a smart view and have the view call back to methods in the &quot;Application&quot; class. The &quot;Application&quot; class tells the view when models are loaded and unloaded. The view subscribes to events on the models and reacts to the events.</p>
<p>All of my forms and controls communicate with each other through the &quot;WinFormsView&quot; class. One control might change the value of a property in the &quot;WinFormsView&quot; class and another control might subscribe to a change event and update as necessary. This keeps the controls and forms slightly less coupled.</p>
<p>It's not a perfect implementation of MVC but it keeps my model logic decoupled enough from my view logic that I can later implement a WPF version of the view I think.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2010\drawing-rectangles-with-spritebatch.html">Drawing Rectangles with SpriteBatch</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>March 29, 2010</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>C#, Code Snippets, Xna</span>
</div>
<div class="content">
<p>Just a quick code snippet which adds an extension method for drawing Rectangles to SpriteBatch:</p>
<pre><code class="language-c#">public static class SpriteBatchHelper
{
	static Texture2D pixel;

	private static void LoadPixel(GraphicsDevice graphicsDevice)
	{
		if(pixel == null)
		{
			pixel = new Texture2D(graphicsDevice, 1, 1);
			pixel.SetData&amp;lt;Color&amp;gt;(new Color[] { Color.White });
		}
	}

	public static void DrawRectangle(this SpriteBatch spriteBatch, Rectangle rectangle, Color color)
	{
		LoadPixel(spriteBatch.GraphicsDevice);
		spriteBatch.Draw(pixel, rectangle, color);
	}
}
</code></pre>

</div>
</div>
<div class="post">
<h2><a href="blog\2010\csharp-extension-methods-in-your-own-library.html">C# Extension Methods in your own Library</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>March 08, 2010</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>C#, Extension Methods</span>
</div>
<div class="content">
<p>Normally I use extension methods in C# to extend a library that I did not write and therefore I have no control over. There are situations where it makes sense to use extension methods for a library that you yourself are writing.</p>
<p>For example, when you have interfaces in your library. You want to keep the number of methods in that interface as low as possible so that classes implementing the interface don't have to do a lot of heavy lifting. This means cutting out methods in an interface that are for the most part just syntactic sugar for another method in the interface.</p>
<pre><code class="language-c#">
public interface IServiceContainer
{
    void AddService(Type type, Object provider);
    object GetService(Type type);
}

public static class IServiceContainerExtensions
{
    public static void AddService&amp;lt;T&amp;gt;(this IServiceContainer services, object provider)
    {
        services.AddService(typeof(T), provider);
    }

    public static T GetService&amp;lt;T&amp;gt;(this IServiceContainer services) where T : class
    {
        return services.GetService(typeof(T)) as T;
    }

    public static T GetRequiredService&amp;lt;T&amp;gt;(this IServiceContainer services) where T : class
    {
        T service = services.GetService(typeof(T)) as T;

        if(service == null)
            throw new ServiceNotFoundException(typeof(T));

        return service;
    }
}

</code></pre>
<p>All of the methods in IServiceContainerExtensions are just helper methods for method in IServiceContainer. By making them extension methods in our own library though, we've made the barrier to entry lower. Other people can implement the interface and in a sense &quot;inherit&quot; the helper methods as well.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2010\creating-and-consuming-services-in-your-xna-game.html">Creating and consuming services in your XNA Game</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>February 18, 2010</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i></span>
</div>
<div class="content">
<p>The <a href="http://msdn.microsoft.com/en-us/library/microsoft.xna.framework.gameservicecontainer.aspx">GameServiceContainer</a> implements the <a href="http://msdn.microsoft.com/en-us/library/system.iserviceprovider.aspx">IServiceProvider</a> interface and the MSDN documentation says about the IServiceProvider interface:</p>
<blockquote>Defines a mechanism for retrieving a service object; that is, an object that provides custom support to other objects.</blockquote>
<p>This article will &quot;<em>attempt</em>&quot; to describe how can you use the GameServiceContainer in your XNA game, in both your GameComponent(s) and your game's entity objects.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2010\changing-the-platformtarge-in-visual-c-express.html">Changing the PlatformTarget in Visual C# Express</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>January 18, 2010</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>MSBuild</span>
</div>
<div class="content">
<p>Some project types in Visual C# Express (Empty Project) will not allow you to change the PlatformTarget from the UI. You can still change the target platform though by editing the .csproj file in a text editor. Close the project and open it up in your favorite text editor (I use <a href="http://notepad-plus.sourceforge.net/">Notpad++</a>). The .csproj file is really just a XML file. You should see somewhere in the file something like:</p>
<pre><code class="language-xml">	&amp;lt;PropertyGroup Condition=&quot; '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' &quot;&amp;gt;
		....
	&amp;lt;/PropertyGroup&amp;gt;
	&amp;lt;PropertyGroup Condition=&quot; '$(Configuration)|$(Platform)' == 'Release|AnyCPU' &quot;&amp;gt;
		....
	&amp;lt;/PropertyGroup&amp;gt;
</code></pre>
<p>Inside the PropertyGroup elements, add the PlatformTarget element:</p>
<pre><code class="language-xml">	&amp;lt;PropertyGroup Condition=&quot; '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' &quot;&amp;gt;
		....
		&amp;lt;PlatformTarget&amp;gt;x86*&amp;lt;/PlatformTarget&amp;gt;
	&amp;lt;/PropertyGroup&amp;gt;
	&amp;lt;PropertyGroup Condition=&quot; '$(Configuration)|$(Platform)' == 'Release|AnyCPU' &quot;&amp;gt;
		....
		&amp;lt;PlatformTarget&amp;gt;x86&amp;lt;/PlatformTarget&amp;gt;
	&amp;lt;/PropertyGroup&amp;gt;
</code></pre>
<p>Save the file and open your project back up. Your project's output should now target only x86.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2009\calculating-an-angle-from-a-vector2.html">Calculating an angle from a Vector2</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>February 28, 2009</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>Vectors, Xna</span>
</div>
<div class="content">
<p>When you need to calculate an angle from a Vector2 structure, you can use this piece of code:</p>
<pre><code class="language-c#">public static class Vector2Helper
{
	public static float CalculateAngle(Vector2 v)
	{
		float angle = 0.0f;

		if(v != Vector2.Zero)
		{
			v.Normalize();

			angle = (float)Math.Acos(v.Y);

			if(v.X &amp;lt; 0.0f)
			angle = -angle;
		}

		return angle;
	}
}
</code></pre>
<p>I used this to calculate an angle from the Vector2 of the Left Stick.</p>
<p>The original credit for this source code comes from <a href="http://xnagamer.spaces.live.com/blog/cns!EC20BAAE6808B682!139.entry">here</a>.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2009\the-game-show-host-problem-aka-the-monty-hall-problem.html">The Game Show Host Problem, aka The Monty Hall Problem</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>February 12, 2009</span>
<span class="category"><i class="fa fa-folder"></i>Random</span>
<span class="tags"><i class="fa fa-tags"></i></span>
</div>
<div class="content">
<p><em>NOTE: This is a repost from my old blog.</em></p>
<p>So, me and my girlfriend went to see 21 last night and in the movie they make mention of The Game Show Host problem, aka The Monty Hall Problem.</p>
<p>The jist of the problem is this: You are on a game show. The host presents you with 3 doors, 1 of which has a car behind it, the other 2 have goats. The game show host tells you to pick a door. You do so, at which point the game show host opens up a door to show you a goat behind the door and then asks you if you would like to switch your choice to the other closed door. The question is then, should you switch your choice?</p>
<p>The correct answer is yes. More on why after the jump.</p>
<p>I won’t go too far into detail about why you should switch your answer, I’ll leave that to Wikipedia. Some things to note that may not be obvious: 1) The game show host will always open a door that is not the correct door 2) He will never open your door. These are the keys to this problem. By switching, you will win a prize 2/3 of the time as opposed to only winning 1/3 of the time if you do not.</p>
<p>Many people will argue that once the game show host opens the door with the goat behind it that there is now a 50% chance of you picking the right door by either staying with your door or switching. This is simply not true. Each door still only has 33.3% chance of being the door with the car behind it. The thing is though, once you pick your door, the game show host then eliminates a door based on 2 criteria: 1) The door is not the one with the prize behind it 2) The door is not yours. Due to these criteria, the odds of the correct door do not change for the door that you have picked, but rather change for the doors that you have not picked. The 2 doors not chosen by you then in a sense combine into one option and they together have a probability of 66.7%.</p>
<p>The Wikipedia article explains in much more mathematical detail why it is better to switch. I suggest you look there if I have done nothing but confuse you. This is simple strategy and probability. Knowing exactly how the game works can make you alot better at it.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2009\drawing-2d-lines-as-rotated-quads.html">Drawing 2D Lines as Rotated Quads</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>February 07, 2009</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i></span>
</div>
<div class="content">
<p>I haven't had much time lately with work but one question I've seen asked many many times is how to draw lines of different widths. So, to cut to the chase I'll share the code I've used to do it.</p>
<pre><code class="language-c#">public void DrawLine(Vector3 p1, Color c1, Vector3 p2, Color c2, int width)
{
	float distance = Vector3.Distance(p1, p2);
	float halfDistance = distance / 2.0f;
	float halfWidth = width / 2.0f;

	Vector3 difference = p2 - p1;
	Vector3 destination = new Vector3(p1.X + difference.X / 2.0f, p1.Y + difference.Y / 2.0f, p1.Z + difference.Z);

	// Calculate angle between two points
	float angle = (float)Math.Atan2(difference.Y, difference.X);

	Vector3 v1, v2, v3, v4;

	v1 = new Vector3(-halfDistance, -halfWidth, 0); // Top Left
	v2 = new Vector3(halfDistance, -halfWidth, 0); // Top Right
	v3 = new Vector3(halfDistance, halfWidth, 0); // Bottom Right
	v4 = new Vector3(-halfDistance, halfWidth, 0); // Bottom Left

	Matrix m =
		Matrix.Identity *
		Matrix.CreateRotationZ(angle) *
		Matrix.CreateTranslation(destination);

	v1 = Vector3.Transform(v1, m);
	v2 = Vector3.Transform(v2, m);
	v3 = Vector3.Transform(v3, m);
	v4 = Vector3.Transform(v4, m);

	DrawQuad(v1, c1, v2, c2, v3, c2, v4, c1);
}
</code></pre>
<p>I've left a lot of fluff code out. I usually check if the line is a width of 1 and draw a normal line. I also left out the code on how to draw a quad as that can be found many other places already.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2009\spritesheet-class.html">SpriteSheet Class</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>January 09, 2009</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>SpriteSheet, Xna</span>
</div>
<div class="content">
<p>I've been talking with a guy on the creator forums lately about SpriteSheets and so I decided it might be a good idea to post my SpriteSheet class.</p>
<p>It's very simple. Only reads sprites from left to right and assumes all Sprites are the same width and height.</p>
<pre><code class="language-csharp">#region Using
using System;
using Microsoft.Xna.Framework;
using Microsoft.Xna.Framework.Graphics;
#endregion

namespace Snow.Xna.Graphics
{
	/// &lt;summary&gt;
	/// Spritesheet class.
	/// &lt;/summary&gt;
	public class SpriteSheet
	{
		#region Fields

		string name;

		Texture2D texture;

		Rectangle[] rectangles;

		int spriteWidth, spriteHeight;

		#endregion

		#region Properties

		/// &lt;summary&gt;
		/// The name of this SpriteSheet.
		/// &lt;/summary&gt;
		public string Name
		{
			get { return name; }
		}

		/// &lt;summary&gt;
		/// The texture for this SpriteSheet.
		/// &lt;/summary&gt;
		public Texture2D Texture
		{
			get { return texture; }
		}

		/// &lt;summary&gt;
		/// Returns a rectangle for a sprite in the SpriteSheet.
		/// &lt;/summary&gt;
		/// &lt;param name=&quot;i&quot;&gt;index&lt;/param&gt;
		/// &lt;returns&gt;&lt;/returns&gt;
		public Rectangle this[int i]
		{
			get { return rectangles[i]; }
		}

		/// &lt;summary&gt;
		/// The number of sprites in this SpriteSheet.
		/// &lt;/summary&gt;
		public int Count
		{
			get { return rectangles.Length; }
		}

		/// &lt;summary&gt;
		/// The width of the texture.
		/// &lt;/summary&gt;
		public int Width
		{
			get { return texture.Width; }
		}

		/// &lt;summary&gt;
		/// The width of each sprite in the SpriteSheet.
		/// &lt;/summary&gt;
		public int SpriteWidth
		{
			get { return spriteWidth; }
		}

		/// &lt;summary&gt;
		/// The height of the texture.
		/// &lt;/summary&gt;
		public int Height
		{
			get { return texture.Height; }
		}

		/// &lt;summary&gt;
		/// The height of each sprite in the SpriteSheet.
		/// &lt;/summary&gt;
		public int SpriteHeight
		{
			get { return spriteHeight; }
		}

		#endregion

		/// &lt;summary&gt;
		/// Create a new SpriteSheet and determine the number of sprites in the sheet.
		/// &lt;/summary&gt;
		/// &lt;param name=&quot;texture&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;spriteWidth&quot;&gt;Width of each sprite.&lt;/param&gt;
		/// &lt;param name=&quot;spriteHeight&quot;&gt;Height of each sprite.&lt;/param&gt;
		public SpriteSheet(string name, Texture2D texture, int spriteWidth, int spriteHeight)
			: this(name, texture, spriteWidth, spriteHeight, 0)
		{
		}

		/// &lt;summary&gt;
		/// Create a new SpriteSheet.
		/// &lt;/summary&gt;
		/// &lt;param name=&quot;texture&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;spriteWidth&quot;&gt;Width of each sprite.&lt;/param&gt;
		/// &lt;param name=&quot;spriteHeight&quot;&gt;Height of each sprite.&lt;/param&gt;
		/// &lt;param name=&quot;count&quot;&gt;The number of sprites in the sheet.&lt;/param&gt;
		public SpriteSheet(string name, Texture2D texture, int spriteWidth, int spriteHeight, int count)
		{
			this.name = name;
			this.texture = texture;
			this.spriteWidth = spriteWidth;
			this.spriteHeight = spriteHeight;

			if(count == 0)
			{
				int numX = texture.Width / spriteWidth;
				int numY = texture.Height / spriteHeight;

				rectangles = new Rectangle[numX * numY];
			}
			else
			{
				rectangles = new Rectangle[count];
			}

			int x = 0, y = 0;
			for(int i = 0; i &lt; rectangles.Length; i++)
			{
				rectangles[i] = new Rectangle(x, y, spriteWidth, spriteHeight);

				x += spriteWidth;
				if(x &gt;= texture.Width)
				{
					x = 0;
					y += spriteHeight;
				}
			}
		}

		public static implicit operator Texture2D(SpriteSheet spriteSheet)
		{
			return spriteSheet.Texture;
		}
	}
}
</code></pre>
<p>You can create a new SpriteSheet and use it like this:</p>
<p>`</p>
<pre><code class="language-c#">SpriteSheet spriteSheet = new SpriteSheet(&quot;tiles&quot;, Content.Load&lt;texture2D&gt;(&quot;tiles&quot;), 64, 64);

spriteBatch.Begin();

spriteBatch.Draw(spriteSheet,
		        new Rectangle(0, 0, spriteSheet.SpriteWidth, spriteSheet.SpriteHeight),
			spriteSheet[0],
			Color.White);

spriteBatch.End();
</code></pre>
<p>`</p>
<p>Which loads a spritesheet with sprites of size 64x64. It then draws the first Sprite in the SpriteSheet. You of course wouldn't want to load the spritesheet every frame as well.</p>
<p>Feel free to use this code without restriction.</p>
<p><strong>Edit:</strong> I copied and pasted the second piece of code from somewhere else so I fixed two typos.</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2008\colors-and-hex.html">Colors and Hex</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>December 21, 2008</span>
<span class="category"><i class="fa fa-folder"></i>.NET</span>
<span class="tags"><i class="fa fa-tags"></i>Xna</span>
</div>
<div class="content">
<p>I recently needed to write out Color(s) as an xml attribute. I wrote 2 methods to read and write the Color(s) as Hex strings. Here ya go:</p>

</div>
</div>
<div class="post">
<h2><a href="blog\2008\zend_db_table-as-a-model.html">Zend_Db_Table as a Model</a></h2>
<div class="meta">
<span class="date"><i class="fa fa-calendar"></i>June 20, 2008</span>
<span class="category"><i class="fa fa-folder"></i>php</span>
<span class="tags"><i class="fa fa-tags"></i></span>
</div>
<div class="content">
<p>In the Zend Framework, using Zend_Db_Table as your model class is not well advised. This practice can force you to put business logic in other places besides your model class. This may not be a big deal if your logic is simple but imagine the logic is fairly complicated. Now also imagine that the logic changes at some point. This can be a problem if you have this logic written in many different places.</p>
<p>There's a solution to this problem though. You could write a Model class that uses Zend_Db_Table as a storage medium. Or, you can extend Zend_Db_Table to add your logic to the class. There is a way to simplify this process and that's what this blog post is about.</p>

</div>
</div>
                </div>
                <div class="pagination">
                    <span class="pagination-item older">Older</span>
                    <span class="pagination-item newer">Newer</span>
                </div>
            </div>
        </div>
        <label for="sidebar-checkbox" class="sidebar-toggle"></label>
    </body>
</html>