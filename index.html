<!doctype html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1"><meta name=description content=""><meta name=author content="Zachary Snow"><title>The Blog of Zachary Snow</title><base href=""><link href="https://fonts.googleapis.com/css?family=Open+Sans" rel=stylesheet><link rel=stylesheet type=text/css href=css/style.css><link rel=alternate type=application/rss+xml title="The Blog of Zachary Snow" href=feed.rss><div class=wrap><header id=header><div class=container><div class=social><a href=http://twitter.com/smack0007 class=twitter title=Twitter><span class="fab fa-twitter"></span></a> <a href=http://github.com/smack0007 class=github title=Github><span class="fab fa-github"></span></a> <a href=feed.rss class=rss title=RSS><span class="fas fa-rss"></span></a></div><h1><a href=index.html title=Home>The Blog of Zachary Snow</a></h1></div></header><aside id=sidebar><nav><a href=index.html class="sidebar-nav-item active">Home</a> <a href=about.html class=sidebar-nav-item>About</a></nav></aside><div id=hamburger onclick=toggleHamburger(this)><div class=bar1></div><div class=bar2></div><div class=bar3></div></div><script>function toggleHamburger(n){n.classList.toggle("active");document.getElementById("sidebar").classList.toggle("active")}</script><main class=container><div class=posts><div class=post><h2><a href=blog/2018/poor-mans-template-engine-3.html>Poor Man's Template Engine in C# Part 3</a></h2><div class=meta><span class=date><span class="fas fa-calendar-alt"></span>March 22, 2018</span> <span class=category><span class="fas fa-folder"></span>c#</span> <span class=tags><span class="fas fa-tags"></span>c#, template, template-engine</span></div><h3>Include</h3><div class=content><p>In our <a href=blog/2018/poor-mans-template-engine-2.html>last episode</a> we implemeted the first two helper funcitons <code>HtmlEncode</code> and <code>If</code>. Today we want to implement <code>Include</code>:
<pre><code class=language-c#>
<span style=color:#00f>namespace</span> Pmte
{
    <span style=color:#00f>public</span> <span style=color:#00f>delegate</span> IEnumerable&lt;<span style=color:#00f>string</span>> Template&lt;TData>(TData data);

    <span style=color:#00f>public</span> <span style=color:#00f>static</span> <span style=color:#00f>class</span> TemplateExtensions
    {   
        <span style=color:#00f>public</span> <span style=color:#00f>static</span> <span style=color:#00f>string</span> Render(<span style=color:#00f>this</span> IEnumerable&lt;<span style=color:#00f>string</span>> templateResult) => <span style=color:#00f>string</span>.Join(Environment.NewLine, templateResult);

        <span style=color:#00f>public</span> <span style=color:#00f>static</span> <span style=color:#00f>string</span> HtmlEncode(<span style=color:#00f>string</span> input) => WebUtility.HtmlEncode(input);

        <span style=color:#00f>public</span> <span style=color:#00f>static</span> <span style=color:#00f>string</span> If(<span style=color:#00f>bool</span> condition, <span style=color:#00f>string</span> trueString, <span style=color:#00f>string</span> falseString = <span style=color:#00f>null</span>) => condition ? trueString : falseString;

        <span style=color:#00f>public</span> <span style=color:#00f>static</span> <span style=color:#00f>string</span> Include&lt;TData>(Template&lt;TData> template, TData data) =>
            template(data).Render();
    }
}

</code></pre><p>Include can be used by specifying the template function and the data used to call the template function. The rendered result is returned.<p>Example usage:
<pre><code class=language-c#>
<span style=color:#00f>using</span> <span style=color:#00f>static</span> Pmte.TemplateExtensions;

<span style=color:#00f>public</span> <span style=color:#00f>static</span> <span style=color:#00f>class</span> Templates
{
    <span style=color:#00f>public</span> <span style=color:#00f>static</span> IEnumerable&lt;<span style=color:#00f>string</span>> Post(PostData post)
    {
        <span style=color:#00f>yield</span> <span style=color:#00f>return</span> <span style=color:#a31515>"&lt;div class=\"post\">"</span>;
            <span style=color:#00f>yield</span> <span style=color:#00f>return</span> Include(PostHeader, post);
            <span style=color:#00f>yield</span> <span style=color:#00f>return</span> <span style=color:#a31515>"&lt;div class=\"content\">"</span>;
                <span style=color:#00f>yield</span> <span style=color:#00f>return</span> post.Content;
            <span style=color:#00f>yield</span> <span style=color:#00f>return</span> <span style=color:#a31515>"&lt;/div>"</span>;
        <span style=color:#00f>yield</span> <span style=color:#00f>return</span> <span style=color:#a31515>"&lt;/div>"</span>;
    }
    
    <span style=color:#00f>public</span> <span style=color:#00f>static</span> IEnumerable&lt;<span style=color:#00f>string</span>> PostHeader(PostData post)
    {
        <span style=color:#00f>yield</span> <span style=color:#00f>return</span> $<span style=color:#a31515>"&lt;h2>&lt;a href=\"{post.Url}\">{HtmlEncode(post.Title)}&lt;/a>&lt;/h2>"</span>;   

        <span style=color:#00f>yield</span> <span style=color:#00f>return</span> <span style=color:#a31515>"&lt;div class=\"meta\">"</span>;
            <span style=color:#00f>yield</span> <span style=color:#00f>return</span> $<span style=color:#a31515>"&lt;span class=\"date\">{post.Date}&lt;/span>"</span>;
            <span style=color:#00f>yield</span> <span style=color:#00f>return</span> $<span style=color:#a31515>"&lt;span class=\"category\">{HtmlEncode(post.Category)}&lt;/span>"</span>;
        <span style=color:#00f>yield</span> <span style=color:#00f>return</span> <span style=color:#a31515>"&lt;/div>"</span>;
    }

    <span style=color:#00f>public</span> <span style=color:#00f>static</span> IEnumerable&lt;<span style=color:#00f>string</span>> PostsList(IEnumerable&lt;PostData> posts)
    {
        <span style=color:#00f>yield</span> <span style=color:#00f>return</span> <span style=color:#a31515>"&lt;div class=\"posts\">"</span>;

        <span style=color:#00f>foreach</span> (<span style=color:#00f>var</span> post <span style=color:#00f>in</span> posts)
        {
            <span style=color:#00f>yield</span> <span style=color:#00f>return</span> <span style=color:#a31515>"&lt;div class=\"post\">"</span>;
                <span style=color:#00f>yield</span> <span style=color:#00f>return</span> Include(PostHeader, post);
            <span style=color:#00f>yield</span> <span style=color:#00f>return</span> <span style=color:#a31515>"&lt;/div>"</span>;
        }

        <span style=color:#00f>yield</span> <span style=color:#00f>return</span> <span style=color:#a31515>"&lt;/div>"</span>;
    }
}

</code></pre><p>We reuse the <code>PostHeader</code> template in both the <code>Post</code> and <code>PostsList</code> templates.</div></div><div class=post><h2><a href=blog/2018/poor-mans-template-engine-2.html>Poor Man's Template Engine in C# Part 2</a></h2><div class=meta><span class=date><span class="fas fa-calendar-alt"></span>March 14, 2018</span> <span class=category><span class="fas fa-folder"></span>c#</span> <span class=tags><span class="fas fa-tags"></span>c#, template, template-engine</span></div><h3>HtmlEncode and If</h3><div class=content><p>In our <a href=blog/2018/poor-mans-template-engine-1.html>last episode</a> we laid the groundwork for our simple template engine. In this episode we'll introduce our first 2 helper functions:
<pre><code class=language-c#>
<span style=color:#00f>namespace</span> Pmte
{
    <span style=color:#00f>public</span> <span style=color:#00f>delegate</span> IEnumerable&lt;<span style=color:#00f>string</span>> Template&lt;TData>(TData data);

    <span style=color:#00f>public</span> <span style=color:#00f>static</span> <span style=color:#00f>class</span> TemplateExtensions
    {   
        <span style=color:#00f>public</span> <span style=color:#00f>static</span> <span style=color:#00f>string</span> Render(<span style=color:#00f>this</span> IEnumerable&lt;<span style=color:#00f>string</span>> templateResult) => <span style=color:#00f>string</span>.Join(Environment.NewLine, templateResult);

        <span style=color:#00f>public</span> <span style=color:#00f>static</span> <span style=color:#00f>string</span> HtmlEncode(<span style=color:#00f>string</span> input) => WebUtility.HtmlEncode(input);

        <span style=color:#00f>public</span> <span style=color:#00f>static</span> <span style=color:#00f>string</span> If(<span style=color:#00f>bool</span> condition, <span style=color:#00f>string</span> trueString, <span style=color:#00f>string</span> falseString = <span style=color:#00f>null</span>) => condition ? trueString : falseString;
    }
}

</code></pre><p>The first helper function <code>HtmlEncode</code> is fairly self explanitory. Use it to encode a string so that it is valid html.<p><code>If</code> can be used inside an interpolated string to optionally include a string or include a different string depending on if condition is true or false.
<pre><code class=language-c#>
<span style=color:#00f>using</span> <span style=color:#00f>static</span> Pmte.TemplateExtensions;

<span style=color:#00f>public</span> <span style=color:#00f>static</span> <span style=color:#00f>class</span> Templates
{
    <span style=color:#00f>public</span> <span style=color:#00f>static</span> IEnumerable&lt;<span style=color:#00f>string</span>> Path(<span style=color:#00f>string</span>[] paths)
    {
        <span style=color:#00f>string</span> output = <span style=color:#a31515>""</span>;

        <span style=color:#00f>for</span> (<span style=color:#00f>int</span> i = <span>0</span>; i &lt; paths.Length; i++)
            output += $<span style=color:#a31515>"{paths[i]}{If(i &lt; paths.Length - 1, HtmlEncode("</span> ><span style=color:#a31515>"))}"</span>;

        <span style=color:#00f>yield</span> <span style=color:#00f>return</span> output;
    }
}

</code></pre><p>Next time we'll talk about including templates inside of other templates.</div></div><div class=post><h2><a href=blog/2018/poor-mans-template-engine-1.html>Poor Man's Template Engine in C# Part 1</a></h2><div class=meta><span class=date><span class="fas fa-calendar-alt"></span>March 06, 2018</span> <span class=category><span class="fas fa-folder"></span>c#</span> <span class=tags><span class="fas fa-tags"></span>c#, template, template-engine</span></div><h3>Groundwork</h3><div class=content><p>If you're looking for a poor man's solution to a templating engine for .net and don't really need the overhead a complete template engine brings with it, I've come up with the following solution:
<pre><code class=language-c#>
<span style=color:#00f>namespace</span> Pmte
{
    <span style=color:#00f>public</span> <span style=color:#00f>delegate</span> IEnumerable&lt;<span style=color:#00f>string</span>> Template&lt;TData>(TData data);

    <span style=color:#00f>public</span> <span style=color:#00f>static</span> <span style=color:#00f>class</span> TemplateExtensions
    {   
        <span style=color:#00f>public</span> <span style=color:#00f>static</span> <span style=color:#00f>string</span> Render(<span style=color:#00f>this</span> IEnumerable&lt;<span style=color:#00f>string</span>> templateResult) => <span style=color:#00f>string</span>.Join(Environment.NewLine, templateResult);
    }
}

</code></pre><p>We define a template as being any function that returns an <code>IEnumerable&lt;string></code>. We are going to build a functional style template engine. TemplateExtensions will contain methods for working with templates and template results.<p>Implement a template like so:
<pre><code class=language-c#>
<span style=color:#00f>using</span> <span style=color:#00f>static</span> Pmte.TemplateExtensions;

<span style=color:#00f>public</span> <span style=color:#00f>static</span> <span style=color:#00f>class</span> Templates
{
    <span style=color:#00f>public</span> <span style=color:#00f>static</span> IEnumerable&lt;<span style=color:#00f>string</span>> PeopleList(IEnumerable&lt;Person> people)
    {
        <span style=color:#00f>foreach</span> (<span style=color:#00f>var</span> person <span style=color:#00f>in</span> people)
            <span style=color:#00f>yield</span> <span style=color:#00f>return</span> $<span style=color:#a31515>"{person.FirstName} {person.LastName}"</span>;
    }
}

</code></pre><p>This can then be consumed with:
<pre><code class=language-c#>
<span style=color:#00f>var</span> people = <span style=color:#00f>new</span> Person[]
{
    <span style=color:#00f>new</span> Person() { FirstName = <span style=color:#a31515>"Stan"</span>, LastName = <span style=color:#a31515>"Marsh"</span> },
    <span style=color:#00f>new</span> Person() { FirstName = <span style=color:#a31515>"Kyle"</span>, LastName = <span style=color:#a31515>"Broflovski"</span> },
    <span style=color:#00f>new</span> Person() { FirstName = <span style=color:#a31515>"Kenny"</span>, LastName = <span style=color:#a31515>"McCormick"</span> },
    <span style=color:#00f>new</span> Person() { FirstName = <span style=color:#a31515>"Eric"</span>, LastName = <span style=color:#a31515>"Cartman"</span> },
};

Console.WriteLine(Templates.PeopleList(people).Render());

</code></pre><p>In future episodes we will build more functions to make our template engine more powerful.</div></div><div class=post><h2><a href=blog/2018/snowball-2.html>Snowball V2.0</a></h2><div class=meta><span class=date><span class="fas fa-calendar-alt"></span>February 23, 2018</span> <span class=category><span class="fas fa-folder"></span>Snowball</span> <span class=tags><span class="fas fa-tags"></span>Snowball, c#</span></div><div class=content><p>I haven't written anything new here in a very long time and a lot has happened since then. I started a new job at <a href=https://www.beumergroup.com>BeumerGroup</a> this year and now work mostly in TypeScript writing an html5 spa app.<p>In my spare time I've decided to working on version 2.0 of my <a href=https://github.com/smack0007/Snowball>Snowball</a>, my 2D game framework. I've been playing around with the idea for a while now. This version will be developed directly for .net core and will be developed with cross platform capability in mind. The api will look similar but will have some changes.<p>The old repo is still available on my <a href=https://github.com/smack0007/ >github</a> at <a href=https://github.com/smack0007/Snowball_v1>https://github.com/smack0007/Snowball_v1</a>.</div></div><div class=post><h2><a href=blog/2015/using-batch-files-as-task-runner-vs-code.html>Using batch files as the task runner in Visual Studio Code</a></h2><div class=meta><span class=date><span class="fas fa-calendar-alt"></span>July 09, 2015</span> <span class=category><span class="fas fa-folder"></span>Visual Studio</span> <span class=tags><span class="fas fa-tags"></span>Visual Studio, Visual Studio Code, Batch Files</span></div><div class=content><p><a href=https://code.visualstudio.com/ >Visual Studio Code</a> allows you specify tasks which can be in a task runner. Most examples I've seen show how to integrate with Javascript task runners such as Gulp. There is no reason why you can't simpley use batch files though.</div></div></div><div class=clear></div><div class=pagination><a href=blog\page2.html class="pagination-item older">Older</a> <span class="pagination-item newer">Newer</span></div></main></div>