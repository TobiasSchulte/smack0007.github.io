
<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="Zachary Snow">

        <title>Drawing 2D Lines as Rotated Quads</title>
        <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="../../css/site.css">

        <link rel="alternate" type="application/rss+xml" title="The Blog of Zachary Snow" href="../../feed.rss">
    </head>
    <body>
        <header>
            <nav>
                <div class="container">
                    <a href="../../index.html" >Home</a>
                    <a href="../../about.html" >About</a>
                </div>
            </nav>
            <div class="container">
                <h1>The Blog of Zachary Snow</h1>
            </div>
        </header>
        <main class="container">
            <div class="posts">
                <h2>Drawing 2D Lines as Rotated Quads</h2>
<p>I haven't had much time lately with work but one question I've seen asked many many times is how to draw lines of different widths. So, to cut to the chase I'll share the code I've used to do it.</p>
<pre><code class="language-c#">public void DrawLine(Vector3 p1, Color c1, Vector3 p2, Color c2, int width)
{
	float distance = Vector3.Distance(p1, p2);
	float halfDistance = distance / 2.0f;
	float halfWidth = width / 2.0f;

	Vector3 difference = p2 - p1;
	Vector3 destination = new Vector3(p1.X + difference.X / 2.0f, p1.Y + difference.Y / 2.0f, p1.Z + difference.Z);

	// Calculate angle between two points
	float angle = (float)Math.Atan2(difference.Y, difference.X);

	Vector3 v1, v2, v3, v4;

	v1 = new Vector3(-halfDistance, -halfWidth, 0); // Top Left
	v2 = new Vector3(halfDistance, -halfWidth, 0); // Top Right
	v3 = new Vector3(halfDistance, halfWidth, 0); // Bottom Right
	v4 = new Vector3(-halfDistance, halfWidth, 0); // Bottom Left

	Matrix m =
		Matrix.Identity *
		Matrix.CreateRotationZ(angle) *
		Matrix.CreateTranslation(destination);

	v1 = Vector3.Transform(v1, m);
	v2 = Vector3.Transform(v2, m);
	v3 = Vector3.Transform(v3, m);
	v4 = Vector3.Transform(v4, m);

	DrawQuad(v1, c1, v2, c2, v3, c2, v4, c1);
}
</code></pre>
<p>I've left a lot of fluff code out. I usually check if the line is a width of 1 and draw a normal line. I also left out the code on how to draw a quad as that can be found many other places already.</p>

            </div>
            <aside class="sidebar">
				<div class="social">
					<a href="http://twitter.com/smack0007" class="twitter" title="Twitter"><i class="fa fa-twitter"></i></a>
					<a href="http://github.com/smack0007" class="github" title="Github"><i class="fa fa-github"></i></a>
					<a href="../../feed.rss" class="rss" title="RSS"><i class="fa fa-rss"></i></a>
				</div>
            </aside>
        </main>
        <footer class="container">
        </footer>
    </body>
</html>